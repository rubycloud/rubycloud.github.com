/*
moo.fx pack, effects extensions for moo.fx.
by Valerio Proietti (http://mad4milk.net) MIT-style LICENSE
for more info visit (http://moofx.mad4milk.net).
Friday, April 14, 2006
v 1.2.4
*/
//smooth scroll
fx.Scroll=Class.create(),fx.Scroll.prototype=Object.extend(new fx.Base,{initialize:function(e){this.setOptions(e)},scrollTo:function(e){var t=Position.cumulativeOffset($(e))[1],n=window.innerHeight||document.documentElement.clientHeight,r=document.documentElement.scrollHeight,i=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;t+n>r?this.custom(i,t-n+(r-t)):this.custom(i,t)},increase:function(){window.scrollTo(0,this.now)}}),fx.Text=Class.create(),fx.Text.prototype=Object.extend(new fx.Base,{initialize:function(e,t){this.el=$(e),this.setOptions(t),this.options.unit||(this.options.unit="em")},increase:function(){this.el.style.fontSize=this.now+this.options.unit}}),fx.Combo=Class.create(),fx.Combo.prototype={setOptions:function(e){this.options={opacity:!0,height:!0,width:!1},Object.extend(this.options,e||{})},initialize:function(e,t){this.el=$(e),this.setOptions(t),this.options.opacity&&(this.o=new fx.Opacity(e,t),t.onComplete=null),this.options.height&&(this.h=new fx.Height(e,t),t.onComplete=null),this.options.width&&(this.w=new fx.Width(e,t))},toggle:function(){this.checkExec("toggle")},hide:function(){this.checkExec("hide")},clearTimer:function(){this.checkExec("clearTimer")},checkExec:function(e){this.o&&this.o[e](),this.h&&this.h[e](),this.w&&this.w[e]()},resizeTo:function(e,t){this.h&&this.w&&(this.h.custom(this.el.offsetHeight,this.el.offsetHeight+e),this.w.custom(this.el.offsetWidth,this.el.offsetWidth+t))},customSize:function(e,t){this.h&&this.w&&(this.h.custom(this.el.offsetHeight,e),this.w.custom(this.el.offsetWidth,t))}},fx.Accordion=Class.create(),fx.Accordion.prototype={setOptions:function(e){this.options={delay:100,opacity:!1},Object.extend(this.options,e||{})},initialize:function(e,t,n){this.elements=t,this.setOptions(n);var n=n||"";this.fxa=[],n&&n.onComplete&&(n.onFinish=n.onComplete),t.each(function(e,t){n.onComplete=function(){e.offsetHeight>0&&(e.style.height="1%"),n.onFinish&&n.onFinish(e)},this.fxa[t]=new fx.Combo(e,n),this.fxa[t].hide()}.bind(this)),e.each(function(e,n){if(typeof e.onclick=="function")var r=e.onclick;e.onclick=function(){r&&r(),this.showThisHideOpen(t[n])}.bind(this)}.bind(this))},showThisHideOpen:function(e){this.elements.each(function(t,n){t.offsetHeight>0&&t!=e&&this.clearAndToggle(t,n),t==e&&e.offsetHeight==0&&setTimeout(function(){this.clearAndToggle(e,n)}.bind(this),this.options.delay)}.bind(this))},clearAndToggle:function(e,t){this.fxa[t].clearTimer(),this.fxa[t].toggle()}};var Remember=new Object;Remember=function(){},Remember.prototype={initialize:function(e,t){this.el=$(e),this.days=365,this.options=t,this.effect();var n=this.readCookie();n&&(this.fx.now=n,this.fx.increase())},setCookie:function(e){var t=new Date;t.setTime(t.getTime()+this.days*24*60*60*1e3);var n="; expires="+t.toGMTString();document.cookie=this.el+this.el.id+this.prefix+"="+e+n+"; path=/"},readCookie:function(){var e=this.el+this.el.id+this.prefix+"=",t=document.cookie.split(";");for(var n=0;c=t[n];n++){while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(e)==0)return c.substring(e.length,c.length)}return!1},custom:function(e,t){this.fx.now!=t&&(this.setCookie(t),this.fx.custom(e,t))}},fx.RememberHeight=Class.create(),fx.RememberHeight.prototype=Object.extend(new Remember,{effect:function(){this.fx=new fx.Height(this.el,this.options),this.prefix="height"},toggle:function(){this.el.offsetHeight==0?this.setCookie(this.el.scrollHeight):this.setCookie(0),this.fx.toggle()},resize:function(e){this.setCookie(this.el.offsetHeight+e),this.fx.custom(this.el.offsetHeight,this.el.offsetHeight+e)},hide:function(){this.readCookie()||this.fx.hide()}}),fx.RememberText=Class.create(),fx.RememberText.prototype=Object.extend(new Remember,{effect:function(){this.fx=new fx.Text(this.el,this.options),this.prefix="text"}}),Array.prototype.iterate=function(e){for(var t=0;t<this.length;t++)e(this[t],t)},Array.prototype.each||(Array.prototype.each=Array.prototype.iterate),fx.expoIn=function(e){return Math.pow(2,10*(e-1))},fx.expoOut=function(e){return-Math.pow(2,-10*e)+1},fx.quadIn=function(e){return Math.pow(e,2)},fx.quadOut=function(e){return-e*(e-2)},fx.circOut=function(e){return Math.sqrt(1-Math.pow(e-1,2))},fx.circIn=function(e){return-(Math.sqrt(1-Math.pow(e,2))-1)},fx.backIn=function(e){return e*e*(2.7*e-1.7)},fx.backOut=function(e){return(e-1)*(e-1)*(2.7*(e-1)+1.7)+1},fx.sineOut=function(e){return Math.sin(e*(Math.PI/2))},fx.sineIn=function(e){return-Math.cos(e*(Math.PI/2))+1},fx.sineInOut=function(e){return-(Math.cos(Math.PI*e)-1)/2};